# Linux 权限标识

    Linux中对一个文件的权限设置需要对三个对象进行设置
    1. 文件和文件目录的所有者
    2. 文件和文件目录的所有者所在的组的用户(同组用户)
    3. 其它组的用户

## 字母表示法

    Linux 中对文件的权限使用三个字母来进行标识
    r(read): 具有读取文件内容的权限
    w(write):具有修改文件内容的权限
    x(execute): 具有执行文件的权限(只是具备执行的权限, 但文件是否能执行还取决于文件本身属性)
    
    如一个用户对一个文件拥有如下权限
    drwxrwxr-x
    以上总共为是个字符, 把它按照规则分解如下
    d rwx rwx r-x
    第一段的d代表文件类型, 有以下类型可选择
        d：文件夹
        -：普通文件
        l：软链接（类似Windows的快捷方式）
        b：块设备文件（例如硬盘、光驱等）
        p：管道文件
        c：字符设备文件（例如屏幕等串口设备）
        s：套接口文件
    第二段是指文件所有者拥有 rwx 三个权限
    第三段是指文件所有者所在组的用户拥有 rwx 三个权限
    第四段标识中中间字母使用"-"代替, 标识不具备写入的权限, 只拥有读和可执行的权限

    除第一段外, 后面三段都是三个字母, 三个字母的顺序必须为 rwx, 如果没有某个权限则使用"-"代替

## 二进制表示法

    如 rwx 这一组权限, 如果同时拥有, 其使用二进制表示应该为 111, 三位都为 1, 表示三个权限同时拥有
    如果某一位权限没有, 如 rw- 和 r-x, 则使用 110 和 101 来表示, 即哪一位为 "-", 哪一位则被替换成 0
    以下为全部可能存在的情况

    字符表示		    二进制
    ---	    	    000
    --x	    	    001
    -w-	    	    010
    -wx	    	    011
    r--	    	    100
    r-x	    	    101
    rw-	    	    110
    rwx	    	    111

## 八进制表示法

    由二进制转换八进制可得到结果, 如 r-- 为 000, 其八进制的结果为 0, --x 二进制位 001, 其八进制的结果为 1
    以下列出全部存在的情况

    字符表示	8进制	二进制
    ---	    0	    000
    --x	    1	    001
    -w-	    2	    010
    -wx	    3	    011
    r--	    4	    100
    r-x	    5	    101
    rw-	    6	    110
    rwx	    7	    111

    通过上表可以看出, 只读的权限为 4, 只写的权限为 2, 可执行的权限为 1, 那么如果拥有全部权限则为 7(等同于 4 + 2 + 1)

    这样可以简单的使用一个数字来代表一组权限, 如果三个数字连起来则代表了对三组对象分别授权
    如: 775 代表了 文件所有者拥有读写执行的权限, 文件所有者所在组的成员拥有读写执行的权限, 其它组成员拥有只读和执行的权限

## 使用数字授权

    chmod [-R] 777 文件或目录名
    -R: 进行递归的持续变更, 表示该文件夹下的全部文件都会进行变更权限

## 授权特殊权限

    一般我们都会使用如 777 三位数字进行授权, 但是如果出现了 0777 时, 此时第一位的 0 并不是代表了文件类型, 而是是文件特殊权限, 
    如前面所讲, 一个数字代表了三个字母, 0777 中的 0 也代表了三个字母(abc), 如下: 
    a - setuid位, 如果该位为1, 则表示设置setuid
    b - setgid位, 如果该位为1, 则表示设置setgid
    c - sticky位, 如果该位为1, 则表示设置sticky
    setuid: 对应数字 4, 设置使文件在执行阶段具有文件所有者的权限. 典型的文件是 /usr/bin/passwd. 如果一般用户执行该文件, 则在执行过程中, 该文件可以获得root权限, 从而可以更改用户的密码.
    setgid: 对应数字 2, 该权限只对目录有效. 目录被设置该位后, 任何用户在此目录下创建的文件都具有和该目录所属的组相同的组.
    sticky bit: 对应数字 1, 该位可以理解为防删除位. 一个文件是否可以被某用户删除, 主要取决于该文件所属的组是否对该用户具有写权限.
    如果没有写权限, 则这个目录下的所有文件都不能被删除, 同时也不能添加新的文件. 如果希望用户能够添加文件但同时不能删除文件,
    则可以对文件使用sticky bit位. 设置该位后, 就算用户对目录具有写权限, 也不能删除该文件.
    

    